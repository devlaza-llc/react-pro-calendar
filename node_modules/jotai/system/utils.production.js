System.register(["jotai","react"],function(W){"use strict";var m,I,C,M,_,N,P,j;return{setters:[function(d){m=d.atom,I=d.SECRET_INTERNAL_getScopeContext,C=d.useAtom,M=d.useSetAtom,_=d.SECRET_INTERNAL_registerPromiseAbort,W({useAtomValue:d.useAtomValue,useUpdateAtom:d.useSetAtom})},function(d){N=d.useContext,P=d.useCallback,j=d.useMemo}],execute:function(){W({abortableAtom:St,atomFamily:G,atomWithDefault:it,atomWithHash:ht,atomWithObservable:bt,atomWithReducer:B,atomWithReset:U,atomWithStorage:D,createJSONStorage:V,freezeAtom:nt,freezeAtomCreator:ot,loadable:yt,selectAtom:Z,splitAtom:at,useAtomCallback:tt,useHydrateAtoms:gt,useReducerAtom:q,useResetAtom:K,waitForAll:lt});const d=W("RESET",Symbol());function U(t){const e=m(t,(o,n,r)=>{const s=typeof r=="function"?r(o(e)):r;n(e,s===d?t:s)});return e}const H="w",$="h";function K(t,e){const o=I(e),n=N(o).s;return P(()=>n[H](t,d),[n,t])}function q(t,e,o){const[n,r]=C(t,o),s=P(a=>{r(i=>e(i,a))},[r,e]);return[n,s]}function B(t,e){const o=m(t,(n,r,s)=>r(o,e(n(o),s)));return o}function G(t,e){let o=null;const n=new Map,r=s=>{let a;if(e===void 0)a=n.get(s);else for(const[c,u]of n)if(e(c,s)){a=u;break}if(a!==void 0)if(o!=null&&o(a[1],s))n.delete(s);else return a[0];const i=t(s);return n.set(s,[i,Date.now()]),i};return r.remove=s=>{if(e===void 0)n.delete(s);else for(const[a]of n)if(e(a,s)){n.delete(a);break}},r.setShouldRemove=s=>{if(o=s,!!o)for(const[a,i]of n)o(i[1],a)&&n.delete(a)},r}const Q=(t,e)=>{do{const[o,...n]=e,r=t.get(o);if(!r)return;if(!n.length)return r[1];t=r[0],e=n}while(e.length)},X=(t,e,o)=>{do{const[n,...r]=e;let s=t.get(n);if(s||(s=[new WeakMap],t.set(n,s)),!r.length){s[1]=o;return}t=s[0],e=r}while(e.length)},E=()=>{const t=new WeakMap;return(e,o)=>{const n=Q(t,o);if(n)return n;const r=e();return X(t,o,r),r}},Y=E();function Z(t,e,o=Object.is){return Y(()=>{const n=m(()=>({}));return m(r=>{const s=e(r(t)),a=r(n);return"prev"in a&&o(a.prev,s)?a.prev:(a.prev=s,s)})},[t,e,o])}function tt(t,e){const o=j(()=>m(null,(r,s,[a,i,c])=>{try{i(t(r,s,a))}catch(u){c(u)}}),[t]),n=M(o,e);return P(r=>{let s=!0,a={};const i=new Promise((c,u)=>{n([r,l=>{s?a={v:l}:c(l)},l=>{s?a={e:l}:u(l)}])});if(s=!1,"e"in a)throw a.e;return"v"in a?a.v:i},[n])}const et=E(),x=t=>{if(typeof t!="object"||t===null)return;Object.freeze(t);const e=Object.getOwnPropertyNames(t);for(const o of e){const n=t[o];x(n)}return t};function nt(t){return et(()=>m(e=>x(e(t)),(e,o,n)=>o(t,n)),[t])}function ot(t){return(...e)=>{const o=t(...e),n=o.read;return o.read=r=>x(n(r)),o}}const rt=E(),z=t=>!!t.write,st=t=>typeof t=="function";function at(t,e){return rt(()=>{const o=new WeakMap,n=(c,u)=>{let l=o.get(c);if(l)return l;const f=u&&o.get(u),h=[],b=[];return c.forEach((S,A)=>{const v=e?e(S):A;b[A]=v;const p=f&&f.atomList[f.keyList.indexOf(v)];if(p){h[A]=p;return}const O=R=>{const T=R(r),y=R(t),k=n(y,T.prev).keyList.indexOf(v);if(k<0||k>=y.length){const w=c[n(c).keyList.indexOf(v)];if(w)return w;throw new Error("splitAtom: index out of bounds for read")}return y[k]},g=(R,T,y)=>{const k=R(r),w=R(t),L=n(w,k.prev).keyList.indexOf(v);if(L<0||L>=w.length)throw new Error("splitAtom: index out of bounds for write");const pt=st(y)?y(w[L]):y;T(t,[...w.slice(0,L),pt,...w.slice(L+1)])};h[A]=z(t)?m(O,g):m(O)}),f&&f.keyList.length===b.length&&f.keyList.every((S,A)=>S===b[A])?l=f:l={atomList:h,keyList:b},o.set(c,l),l},r=m(()=>({})),s=c=>{const u=c(r),l=c(t),f=n(l,u.prev);return u.prev=l,f.atomList},a=(c,u,l)=>{switch("read"in l&&(console.warn("atomToRemove is deprecated. use action with type"),l={type:"remove",atom:l}),l.type){case"remove":{const f=c(i).indexOf(l.atom);if(f>=0){const h=c(t);u(t,[...h.slice(0,f),...h.slice(f+1)])}break}case"insert":{const f=l.before?c(i).indexOf(l.before):c(i).length;if(f>=0){const h=c(t);u(t,[...h.slice(0,f),l.value,...h.slice(f)])}break}case"move":{const f=c(i).indexOf(l.atom),h=l.before?c(i).indexOf(l.before):c(i).length;if(f>=0&&h>=0){const b=c(t);f<h?u(t,[...b.slice(0,f),...b.slice(f+1,h),b[f],...b.slice(h)]):u(t,[...b.slice(0,h),b[f],...b.slice(h,f),...b.slice(f+1)])}break}}},i=z(t)?m(s,a):m(s);return i},e?[t,e]:[t])}function it(t){const e=Symbol(),o=m(e),n=m(r=>{const s=r(o);return s!==e?s:t(r)},(r,s,a)=>a===d?s(o,e):s(o,typeof a=="function"?a(r(n)):a));return n}const ct=E(),ut=m(()=>[]);function lt(t){const e=()=>{const o=ft(t);return m(n=>{const r=[],s=o.map((a,i)=>{try{return n(a)}catch(c){if(c instanceof Promise)r[i]=c;else throw c}});if(r.length)throw Promise.all(r);return mt(t,s)})};return Array.isArray(t)?t.length?ct(e,t):ut:e()}const ft=t=>Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e]),mt=(t,e)=>Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((o,n,r)=>({...o,[n]:e[r]}),{});function V(t){let e,o;return{getItem:n=>{const r=a=>(a=a||"",e!==a&&(o=JSON.parse(a),e=a),o),s=t().getItem(n);return s instanceof Promise?s.then(r):r(s)},setItem:(n,r)=>t().setItem(n,JSON.stringify(r)),removeItem:n=>t().removeItem(n)}}const J=V(()=>localStorage);J.subscribe=(t,e)=>{const o=n=>{n.key===t&&n.newValue&&e(JSON.parse(n.newValue))};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}};function D(t,e,o=J){const n=()=>{try{const s=o.getItem(t);return s instanceof Promise?s.catch(()=>e):s}catch{return e}},r=m(o.delayInit?e:n());return r.onMount=s=>{let a;if(o.subscribe&&(a=o.subscribe(t,s),s(n())),o.delayInit){const i=n();i instanceof Promise?i.then(s):s(i)}return a},m(s=>s(r),(s,a,i)=>{const c=typeof i=="function"?i(s(r)):i;return c===d?(a(r,e),o.removeItem(t)):(a(r,c),o.setItem(t,c))})}function ht(t,e,o){const n=(o==null?void 0:o.serialize)||JSON.stringify,r=(o==null?void 0:o.deserialize)||JSON.parse,s=(o==null?void 0:o.subscribe)||(i=>(window.addEventListener("hashchange",i),()=>{window.removeEventListener("hashchange",i)})),a={getItem:i=>{const c=new URLSearchParams(location.hash.slice(1)).get(i);if(c===null)throw new Error("no value stored");return r(c)},setItem:(i,c)=>{const u=new URLSearchParams(location.hash.slice(1));u.set(i,n(c)),o!=null&&o.replaceState?history.replaceState(null,"","#"+u.toString()):location.hash=u.toString()},removeItem:i=>{const c=new URLSearchParams(location.hash.slice(1));c.delete(i),o!=null&&o.replaceState?history.replaceState(null,"","#"+c.toString()):location.hash=c.toString()},...(o==null?void 0:o.delayInit)&&{delayInit:!0},subscribe:(i,c)=>s(()=>{const u=new URLSearchParams(location.hash.slice(1)).get(i);c(u!==null?r(u):e)})};return D(t,e,a)}function bt(t,e){const o=m(n=>{var r;let s=t(n);const a=(r=s[Symbol.observable])==null?void 0:r.call(s);a&&(s=a);const i=Symbol();let c=null,u=(e==null?void 0:e.initialValue)===void 0?new Promise(g=>{c=g}):void 0,l=!1,f=i,h=!0,b=g=>{(e==null?void 0:e.initialValue)===void 0&&!l?(h&&(u=g),c==null||c(g),l=!0,c=null):f=g};const S=g=>{b(g)},A=g=>{b(Promise.reject(g))};let v=null,p;(e==null?void 0:e.initialValue)!==void 0?p=dt(e):(v=s.subscribe(S,A),p=u),h=!1;const O=m(p);return O.onMount=g=>(b=g,f!==i&&g(f),v||(v=s.subscribe(S,A)),()=>{v==null||v.unsubscribe(),v=null}),{dataAtom:O,observable:s}});return m(n=>{const{dataAtom:r}=n(o);return n(r)},(n,r,s)=>{const{dataAtom:a,observable:i}=n(o);if("next"in i){let c=null;const u=l=>{r(a,l),c==null||c.unsubscribe()};c=i.subscribe(u),i.next(s)}else throw new Error("observable is not subject")})}function dt(t){const e=t.initialValue;return e instanceof Function?e():e}const F=new WeakMap;function gt(t,e){const o=I(e),n=N(o),r=n.s,s=vt(n),a=[];for(const i of t){const c=i[0];s.has(c)||(s.add(c),a.push(i))}a.length&&r[$](a)}function vt(t){let e=F.get(t);return e||(e=new WeakSet,F.set(t,e)),e}const At=E(),wt={state:"loading"};function yt(t){return At(()=>{const e=new WeakMap,o=m(n=>{let r;try{const i=n(t);return m({state:"hasData",data:i})}catch(i){if(i instanceof Promise)r=i;else return m({state:"hasError",error:i})}const s=e.get(r);if(s)return s;const a=m(wt,async(i,c)=>{try{const u=await i(t,{unstable_promise:!0});c(a,{state:"hasData",data:u})}catch(u){c(a,{state:"hasError",error:u})}});return a.onMount=i=>{i()},e.set(r,a),a});return m(n=>{const r=n(o);return n(r)})},[t])}function St(t,e){return m(o=>{const n=new AbortController,r=t(o,{signal:n.signal});return r instanceof Promise&&_(r,()=>n.abort()),r},e)}}}});
